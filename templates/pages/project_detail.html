{% extends 'base.html' %}

{% block title %}{{ project.title }} - {% if site_settings %}{{ site_settings.site_name }}{% else %}Mon Portfolio{% endif %}{% endblock %}

{% block content %}
<!-- Page Header -->
<section class="py-16 sm:py-20" style="background-color: var(--bg-secondary);">
    <div class="max-w-4xl mx-auto text-center px-4">
        <a href="{% url 'projects' %}" class="inline-flex items-center gap-2 text-sm mb-6 transition-colors" style="color: var(--text-secondary);">
            {% include 'components/icons/arrow-left.svg' %}
            <span>Retour aux projets</span>
        </a>
        <h1 class="text-3xl sm:text-4xl font-bold mb-4" style="color: var(--text-primary);">{{ project.title }}</h1>
        {% if project.short_description %}
        <p class="text-lg sm:text-xl max-w-2xl mx-auto" style="color: var(--text-secondary);">{{ project.short_description }}</p>
        {% endif %}
    </div>
</section>

<!-- Project Image -->
{% if project.image %}
<section class="py-8" style="background-color: var(--bg-primary);">
    <div class="max-w-6xl mx-auto px-4">
        <div class="rounded-2xl overflow-hidden border" style="background-color: var(--bg-secondary); border-color: var(--border-color);">
            <img src="{{ project.image.url }}" alt="{{ project.title }}" class="w-full h-auto">
        </div>
    </div>
</section>
{% endif %}

<!-- Project Content -->
<section class="py-16" style="background-color: var(--bg-primary);">
    <div class="max-w-6xl mx-auto px-4">
        <div class="grid lg:grid-cols-3 gap-8">
            <!-- Main Content -->
            <div class="lg:col-span-2 space-y-6 sm:space-y-8">
                <!-- Description -->
                <div class="rounded-2xl border p-6 sm:p-8" style="background-color: var(--bg-secondary); border-color: var(--border-color);">
                    <h2 class="text-xl sm:text-2xl font-bold mb-4" style="color: var(--text-primary);">Description</h2>
                    <div class="prose max-w-none text-sm sm:text-base" style="color: var(--text-secondary);">
                        <p>{{ project.description|linebreaks }}</p>
                    </div>
                </div>
            </div>
            
            <!-- Sidebar -->
            <div class="lg:col-span-1">
                <div class="sticky top-20 space-y-6">
                    <!-- Technologies -->
                    {% if project.technologies %}
                    <div class="rounded-2xl border p-6" style="background-color: var(--bg-secondary); border-color: var(--border-color);">
                        <h3 class="font-semibold mb-4" style="color: var(--text-primary);">Technologies</h3>
                        <div class="flex flex-wrap gap-2">
                            {% for tech in project.get_technologies_list %}
                            <span class="px-3 py-1 text-xs sm:text-sm rounded-full" style="background-color: var(--bg-tertiary); color: var(--text-secondary);">{{ tech }}</span>
                            {% endfor %}
                        </div>
                    </div>
                    {% endif %}
                    
                    <!-- Links -->
                    <div class="rounded-2xl border p-6" style="background-color: var(--bg-secondary); border-color: var(--border-color);">
                        <h3 class="font-semibold mb-4" style="color: var(--text-primary);">Liens</h3>
                        <div class="space-y-3">
                            {% if project.link %}
                            <a href="{{ project.link }}" target="_blank" 
                               class="inline-flex items-center justify-between w-full px-4 py-3 rounded-xl transition-colors"
                               style="background-color: var(--accent-color); color: white;">
                                <span class="flex items-center gap-2">
                                    {% include 'components/icons/external-link.svg' %}
                                    <span>Voir le projet</span>
                                </span>
                            </a>
                            {% endif %}
                            
                            {% if project.github_link %}
                            <a href="{{ project.github_link }}" target="_blank" 
                               class="inline-flex items-center justify-between w-full px-4 py-3 rounded-xl transition-colors"
                               style="background-color: var(--bg-tertiary); color: var(--text-primary);">
                                <span class="flex items-center gap-2">
                                    {% include 'components/icons/github.svg' %}
                                    <span>Code source</span>
                                </span>
                            </a>
                            {% endif %}
                        </div>
                    </div>
                    
                    <!-- Share -->
                    <div class="rounded-2xl border p-6" style="background-color: var(--bg-secondary); border-color: var(--border-color);">
                        <h3 class="font-semibold mb-4" style="color: var(--text-primary);">Partager</h3>
                        <div class="flex gap-3">
                            <a href="https://twitter.com/intent/tweet?text={{ project.title|urlencode }}" target="_blank" 
                               class="w-10 h-10 rounded-xl flex items-center justify-center transition-colors"
                               style="background-color: var(--bg-tertiary); color: var(--text-secondary);">
                                {% include 'components/icons/twitter.svg' %}
                            </a>
                            <a href="https://www.linkedin.com/sharing/share-offsite/?url={{ request.build_absolute_uri|urlencode }}" target="_blank" 
                               class="w-10 h-10 rounded-xl flex items-center justify-center transition-colors"
                               style="background-color: var(--bg-tertiary); color: var(--text-secondary);">
                                {% include 'components/icons/linkedin.svg' %}
                            </a>
                            <a href="mailto:?subject={{ project.title|urlencode }}&body={{ request.build_absolute_uri|urlencode }}" 
                               class="w-10 h-10 rounded-xl flex items-center justify-center transition-colors"
                               style="background-color: var(--bg-tertiary); color: var(--text-secondary);">
                                {% include 'components/icons/mail.svg' %}
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Navigation -->
<section class="py-16 border-t" style="border-color: var(--border-color); background-color: var(--bg-secondary);">
    <div class="max-w-6xl mx-auto px-4">
        <div class="flex flex-col sm:flex-row justify-between items-center gap-4">
            <a href="{% url 'projects' %}" 
               class="inline-flex items-center gap-2 text-sm font-medium transition-colors"
               style="color: var(--text-secondary);">
                {% include 'components/icons/arrow-left.svg' %}
                <span>Retour aux projets</span>
            </a>
            
            <a href="{% url 'contact' %}" 
               class="inline-flex items-center gap-2 px-6 py-3 rounded-xl text-sm font-semibold transition-all"
               style="background-color: var(--accent-color); color: white;">
                <span>Travaillons ensemble</span>
                {% include 'components/icons/arrow-right.svg' %}
            </a>
        </div>
    </div>
</section>
{% endblock %}
